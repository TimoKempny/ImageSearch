import requests
from bs4 import BeautifulSoup
import os

# url = 'https://www.google.de/search?q=t√ºbingen&hl=de&sxsrf=AOaemvJu7Mv8vod9oy5_HV9xLBrQjhP3EA:1636730746217&source=lnms&tbm=isch&sa=X&ved=2ahUKEwja7-GVkZP0AhUHh_0HHTN_ClUQ_AUoA3oECAEQBQ&biw=1879&bih=979&dpr=1'

def imagedown(url, folder):

	# Errorhandler
	try: 
	# creating directory which joins current directory with the new folder 
	os.mkdir(os.path.join(os.getcwd(), folder))
	except:
		pass 

	os.chdir(os.path.join(os.getcwd(), folder))

	# pictures are requested with url
	r = requests.get(url)
	soup = BeautifulSoup(r.text, 'html.parser')
	images = soup.find_all('img')

	# Rename and save each image that was taken from web
	for image in images:
		name = image['alt']
		link = image['src']
		with open(name.replace(' ', '-').replace('/', '') + '.jpg', 'wb') as f:
			im = requests.get(link)
			f.write(im.content)


